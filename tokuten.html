<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>settings</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="/socket.io/socket.io.js"></script>
		<style>
			* {
				font-size: 40px;
			}
			body {
				text-align: center;
			}
		</style>
	</head>
	<body>
		左：<input id="leftName" required><br>
		右：<input id="rightName" required><br>
		<button onclick="setting()">名前設定</button>
		<br>
		<input type="button" id="left" class="btn" value="左　+1" onclick="leftBtn()">
		<input type="button" id="right" class="btn" value="右　+1" onclick="rightBtn()">
		<br>
		<br>
		<input type="button" id="left" class="btn" value="左　-1" onclick="leftBtnMin()">
		<input type="button" id="right" class="btn" value="右　-1" onclick="rightBtnMin()">
		<br>
		<input type="button" id="reset" class="btn" value="リセット" onclick="reset()">
		<script>
		const socketio = io();
		const leftName = document.getElementById('leftName');
		const rightName = document.getElementById('rightName');
		const left = document.getElementById('left');
		const right = document.getElementById('right');
		
		var leftCount = 0;
        var rightCount = 0;
		
		function setting() {
			socketio.emit('name', leftName.value+'='+rightName.value);
			left.value = leftName.value+'　+1';
			right.value = rightName.value+'　+1';
		}

		function leftBtn() {
            leftCount++;
            socketio.emit('left', leftCount);
        }
        
        function rightBtn() {
            rightCount++;
            socketio.emit('right', rightCount);
		}
		
		function leftBtnMin() {
			if(leftCount === 0)return;
			leftCount--;
			socketio.emit('left', leftCount);
		}

		function rightBtnMin() {
			if(rightCount === 0)return;
			rightCount--;
			socketio.emit('right', rightCount);
		}

		function reset() {
			socketio.emit('reset', true);
			leftCount = 0;
			rightCount = 0;
		}
		</script>
	</body>
</html>